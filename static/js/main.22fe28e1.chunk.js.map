{"version":3,"sources":["utils/socket.js","utils/kick.wav","utils/altImg.jpg","data-providers/connectionProvider/connectionProvider.js","LogIn.js","CurrentUser.js","OtherUsers.js","OnlineUsers.js","useScroll.js","NewMessage.js","OldMessages.js","Message.js","Notification.js","MessageDisplay.js","TypeMessage.js","ChatBox.js","ChatApp.js","Security.js","App.js","index.js"],"names":["socket","io","transport","connectionContext","React","createContext","connected","setConnected","messages","setMessages","users","setUsers","sendMessage","userInit","userName","setUserName","userData","setUserData","typingStatus","setTypingStatus","ContextProvider","children","useState","useCallback","message","user","type","imgUrl","emit","name","image","altImg","id","isTyping","status","typeMessage","updateMessage","oldMessages","newMessage","useEffect","on","Audio","kickSoundUrl","play","usersOnline","off","value","useMemo","Provider","LogIn","useContext","setValue","setImgUrl","className","onSubmit","e","preventDefault","trim","length","src","alt","for","onChange","file","target","files","reader","FileReader","readAsDataURL","onload","result","placeholder","CurrentUser","OtherUsers","console","log","Object","keys","map","uid","index","style","width","height","borderRadius","OnlineUsers","useScroll","nodeRef","current","scrollIntoView","behavior","NewMessage","state","setState","useRef","CSSTransition","in","timeout","unmountOnExit","classNames","ref","order","OldMessages","Message","msg","ind","lastInd","handleAlignRef","border","alignSelf","Notification","notiRef","MessageDisplay","TypeMessage","setNewMessage","textInput","clearStatus","typingStatusRef","focus","clearTimeout","onKeyUp","setTimeout","autoFocus","path","mdiSend","title","size","color","ChatBox","ChatApp","Security","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22fe28e1.chunk.js","sourcesContent":["import { io } from \"socket.io-client\";\nexport const socket = io(\"https://chatxapp.herokuapp.com/\",{ transport : ['websocket'] });","export default __webpack_public_path__ + \"static/media/kick.1d842c55.wav\";","export default __webpack_public_path__ + \"static/media/altImg.8d7f1054.jpg\";","import React, { useEffect, useState, useMemo, useCallback } from \"react\";\nimport { socket } from \"../../utils/socket\";\nimport kickSoundUrl from \"../../utils/kick.wav\";\nimport altImg from \"../../utils/altImg.jpg\";\n\nexport const connectionContext = React.createContext({\n  connected: false,\n  setConnected: () => {},\n  messages: [],\n  setMessages: () => {},\n  users: [],\n  setUsers: () => {},\n  sendMessage: () => {},\n  userInit: () => {},\n  userName: null,\n  setUserName: () => {},\n  userData: {},\n  setUserData: () => {},\n  typingStatus: false,\n  setTypingStatus: () => {},\n});\n\nexport function ContextProvider({ children }) {\n  const [connected, setConnected] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [userName, setUserName] = useState(null);\n  const [userData, setUserData] = useState({});\n  const [typingStatus, setTypingStatus] = useState(false);\n\n  const sendMessage = useCallback(\n    (message) => {\n      setMessages([...messages, { user: \"me\", type: \"chat-message\", message, imgUrl:userData.imgUrl  }]);\n      socket.emit(\"send-message\", {\n        user: userName,\n        message,\n        type: \"chat-message\",\n        imgUrl:userData.imgUrl\n      });\n    },\n    [messages, userData.imgUrl, userName]\n  );\n\n  const userInit = useCallback((name, image) => {\n    const imgUrl = image === \"\" ? altImg : image;\n    setUserName(name);\n    setUserData({ name, imgUrl, id: socket.id });\n    socket.emit(\"user-init\", {\n      user: name,\n      imgUrl,\n      message: \" is online\",\n      type: \"online\",\n    });\n  }, []);\n\n  const isTyping = useCallback(\n    (status) => {\n      const typeMessage = status ? `${userName} is Typing...` : \"\";\n      socket.emit(\"typing-user\", {\n        message: typeMessage,\n        type: \"typing\",\n      });\n    },\n    [userName]\n  );\n\n  const updateMessage = useCallback((oldMessages, newMessage) => {\n    setMessages([...oldMessages, newMessage]);\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      setConnected(true);\n    });\n\n    socket.on(\"user-init\", (message) => {\n      updateMessage(messages, message);\n    });\n\n    socket.on(\"user-exit\", (message) => {\n      message.message = \" is offline\";\n      message.type = \"user-exit\";\n      updateMessage(messages, message);\n    });\n\n    socket.on(\"send-message\", (message) => {\n      const audio = new Audio(kickSoundUrl);\n      audio.play();\n      updateMessage(messages, message);\n    });\n\n    socket.on(\"online-users\", (usersOnline) => {\n      setUsers(usersOnline);\n    });\n\n    socket.on(\"typing-user\", (message) => {\n      setTypingStatus(message);\n    });\n\n    return () => {\n      socket.off(\"connect\");\n      socket.off(\"user-init\");\n      socket.off(\"send-message\");\n      socket.off(\"user-exit\");\n      socket.off(\"online-users\");\n      socket.off(\"typing-user\");\n    };\n  }, [messages, updateMessage]);\n\n  const value = useMemo(() => {\n    return {\n      connected,\n      messages,\n      users,\n      sendMessage,\n      userName,\n      setUserName,\n      userInit,\n      typingStatus,\n      setTypingStatus,\n      isTyping,\n      userData,\n    };\n  }, [\n    connected,\n    messages,\n    users,\n    sendMessage,\n    userName,\n    userInit,\n    typingStatus,\n    isTyping,\n    userData,\n  ]);\n\n  return (\n    <connectionContext.Provider value={value}>\n      {children}\n    </connectionContext.Provider>\n  );\n}\n\n// when login tab is open, connection has been made already.\n// and messages can be received even if the user hasn't logged in yet.\n// or the socket has no name yet.\n// Test !: try opening different tabs all at log in page, log in one after the other\n// Test: 2try opening a tab, log in, then open another tab, login\n\n// in all cases - even though connected, to alert that you are online, submit a user name\n// fix you can disable reception of messages untill user name is defined.\n","import { useState, useContext } from \"react\";\nimport { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\nimport altImg from \"./utils/altImg.jpg\";\nimport \"./LogIn.css\";\n\nfunction LogIn() {\n  const { userInit } = useContext(connectionContext);\n  const [value, setValue] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(altImg);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (value.trim().length > 0) {\n      userInit(value.trim(), imgUrl);\n    }\n  };\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  const handleUpload = (e) => {\n    const file = e.target.files[0];\n    if (file != null) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        setImgUrl(reader.result);\n      };\n    }\n  };\n  return (\n    <form className=\"login-form\" onSubmit={handleSubmit}>\n        <img src={imgUrl} alt=\"\" />\n      <label className=\"file-upload\" for=\"img\">select profile picture</label>\n      <input id=\"img\"type=\"file\" onChange={handleUpload} />\n\n      <input  placeholder=\"enter username\"  type=\"text\" onChange={handleChange} />\n      <button>submit</button>\n    </form>\n  );\n}\n\nexport default LogIn;\n","import { useContext } from \"react\";\nimport { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\nimport \"./CurrentUser.css\";\n\nexport default function CurrentUser() {\n  const { userData } = useContext(connectionContext);\n  return (\n    <div className=\"cur-user-sect\">\n      <div className=\"img-holder\">\n        <img\n          src={userData.imgUrl}\n          alt=\"\"\n        />\n      </div>\n      <div className=\"cur-user-name\"><span>{userData.name}</span></div>\n    </div>\n  );\n}\n","import { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\nimport { useContext } from \"react\";\nimport \"./OtherUsers.css\";\n\nexport default function OtherUsers() {\n  const { users, userData } = useContext(connectionContext);\n  console.log(users);\n  const { id } = userData;\n  return (\n    <div className=\"hold-other-users\">\n      {Object.keys(users).map((uid, index) =>\n        uid !== id ? (\n          <div key={index} className=\"other-user\">\n            <img\n              style={{ width: \"40px\", height: \"40px\", borderRadius: \"50%\" }}\n              src={users[uid].imgUrl}\n              alt=\"\"\n            />\n            <span>{users[uid].name}</span>\n          </div>\n        ) : null\n      )}\n    </div>\n  );\n}\n","import CurrentUser from \"./CurrentUser\";\nimport OtherUsers from \"./OtherUsers\";\nimport \"./OnlineUsers.css\";\nimport { useContext } from \"react\";\nimport { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\n\nexport default function OnlineUsers() {\n  const { users } = useContext(connectionContext);\n  return (\n    <div className=\"user-container\">\n      <div className=\"current-user\">\n        <CurrentUser />\n      </div>\n      <div className=\"users-num\">\n        <span>\n          Active users <span id=\"counter\">{Object.keys(users).length}</span>\n        </span>\n      </div>\n      <div className=\"other-users\"><OtherUsers /></div>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\n\nexport default function useScroll(nodeRef) {\n  useEffect(() => {\n    if (nodeRef.current) {\n      nodeRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  });\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport \"./NewMessage.css\";\nimport \"./OldMessages.css\";\nimport useScroll from \"./useScroll\";\n\nexport default function NewMessage({ user, message, imgUrl }) {\n  const [state, setState] = useState(false);\n  const nodeRef = useRef(null);\n  useScroll(nodeRef);\n\n  useEffect(() => {\n    setState(true);\n  }, []);\n\n  return (\n    <CSSTransition\n      nodeRef={nodeRef}\n      in={state}\n      timeout={500}\n      unmountOnExit\n      classNames=\"last\"\n    >\n      <div ref={nodeRef} className=\"old-msg\">\n        <div className=\"user\" style={{ order: user === \"me\" ? 1 : null }}>\n          {\" \"}\n          <img\n            style={{ width: \"20px\", height: \"20px\", borderRadius: \"50%\" }}\n            src={imgUrl}\n            alt=\"\"\n          />\n          <span>{user}</span>{\" \"}\n        </div>\n        <div className=\"msg\">\n          <span className=\"message\">{message}</span>\n        </div>\n      </div>\n    </CSSTransition>\n  );\n}\n","import React from \"react\";\n\nimport \"./OldMessages.css\";\nexport default function OldMessages({ user, message, imgUrl }) {\n  return (\n    <div className=\"old-msg\">\n      <div className=\"user\" style={{ order: user === \"me\" ? 1 : null }}>\n        {\" \"}\n        <img\n          style={{ width: \"20px\", height: \"20px\", borderRadius: \"50%\" }}\n          src={imgUrl}\n          alt=\"\"\n        />\n        <span>{user}</span>{\" \"}\n      </div>\n      <div className=\"msg\">\n        <span className=\"message\">{message}</span>\n      </div>\n    </div>\n  );\n}\n","import { useRef } from \"react\";\nimport NewMessage from \"./NewMessage\";\nimport OldMessages from \"./OldMessages\";\nexport default function Message({ msg, ind, lastInd }) {\n  const { user, message, imgUrl } = msg;\n  const handleAlignRef = useRef(null);\n  handleAlignRef.current = user === \"me\" ? \"flex-end\" : \"flex-start\";\n\n  return (\n    <div\n      style={{ border: \"2px solid yellow\", alignSelf: handleAlignRef.current }}\n    >\n      {ind + 1 === lastInd ? (\n        <NewMessage user={user} message={message} imgUrl={imgUrl} />\n      ) : (\n        <OldMessages user={user} message={message}  imgUrl={imgUrl} />\n      )}\n    </div>\n  );\n}\n","import { useRef } from \"react\";\nimport \"./Notification.css\";\nimport useScroll from \"./useScroll\";\n\nexport default function Notification({ msg }) {\n  const { user, message } = msg;\n  const notiRef = useRef(null);\n  useScroll(notiRef);\n\n  return (\n    <div ref={notiRef} className=\"notification\">\n      <span>{user}</span>\n      <span>{message}</span>\n    </div>\n  );\n}\n","import { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\nimport \"./MessageDisplay.css\";\nimport { useContext } from \"react\";\nimport Message from \"./Message\";\nimport Notification from \"./Notification\";\n\nexport default function MessageDisplay() {\n  const { messages } = useContext(connectionContext);\n\n  return (\n    <div className=\"display-message\">\n      {messages.map((message, index) => (\n        <div className=\"msg-container\" key={index}>\n          {message.type !== \"chat-message\" ? (\n            <Notification msg={message} />\n          ) : (\n            <Message msg={message} ind={index} lastInd={messages.length} />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\nimport \"./TypeMessage.css\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport Icon from \"@mdi/react\";\nimport { mdiSend } from \"@mdi/js\";\n\nexport default function TypeMessage() {\n  const { sendMessage, isTyping, typingStatus } = useContext(connectionContext);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const textInput = useRef(null);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    sendMessage(newMessage);\n    setNewMessage(\"\");\n    textInput.current.focus();\n  };\n\n  const handleInput = (e) => {\n    setNewMessage(e.target.value);\n    clearTimeout(clearStatus);\n    isTyping(true);\n  };\n\n  const clearStatus = () => {\n    isTyping(false);\n  };\n\n  const handleKeyup = () => {\n    setTimeout(clearStatus, 2000);\n  };\n\n  const typingStatusRef = useRef();\n  typingStatusRef.current = typingStatus;\n\n  return (\n    <div className=\"type-message\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"hold-indicator\">\n          <span className=\"typing-indicator\">\n            {typingStatusRef.current.message}\n          </span>\n        </div>\n        <div className=\"hold-input-box\">\n          <div className=\"input-background\">\n            <input\n              placeholder=\"enter your message here\"\n              className=\"input-box\"\n              type=\"text\"\n              value={newMessage}\n              onChange={handleInput}\n              onKeyUp={handleKeyup}\n              ref={textInput}\n              autoFocus\n            />\n            <button id=\"submit-btn\">\n              Send{\" \"}\n              <Icon className=\"sendIcon\"\n                path={mdiSend}\n                title=\"Send\"\n                size={0.6}\n                color=\"white\"\n              />\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import \"./ChatBox.css\";\nimport MessageDisplay from \"./MessageDisplay\";\nimport TypeMessage from \"./TypeMessage\";\n\nexport default function ChatBox() {\n  return (\n    <div className=\"chat-box\">\n      <MessageDisplay />\n      <TypeMessage />\n    </div>\n  );\n}\n","import OnlineUsers from \"./OnlineUsers\";\nimport ChatBox from \"./ChatBox\";\nimport \"./ChatApp.css\";\nimport React from \"react\";\n\nexport default function ChatApp() {\n  return (\n    <div className=\"app-container\">\n      <div className=\"users-side\">\n        <OnlineUsers />\n      </div>\n      <div className=\"chat-box-holder\">\n        <ChatBox />\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { connectionContext } from \"./data-providers/connectionProvider/connectionProvider\";\nimport LogIn from \"./LogIn\";\nimport ChatApp from \"./ChatApp\";\n\nexport default function Security() {\n  const { userName } = useContext(connectionContext);\n  return <div>{userName == null ? <LogIn /> : <ChatApp />}</div>;\n}\n","import \"./App.css\";\nimport { ContextProvider } from \"./data-providers/connectionProvider/connectionProvider\";\nimport Security from \"./Security\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <ContextProvider>\n        <Security />\n      </ContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}